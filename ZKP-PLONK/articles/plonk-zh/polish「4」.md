# ç†è§£ PLONKï¼ˆå››ï¼‰ï¼šç®—æœ¯çº¦æŸä¸æ‹·è´çº¦æŸ


## å›é¡¾ç½®æ¢è¯æ˜

ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•è®© Prover è¯æ˜ä¸¤ä¸ªé•¿åº¦ä¸º $n$ çš„å‘é‡ $\vec{a}$ ä¸ $\vec{b}$ æ»¡è¶³ä¸€ä¸ªå®ç°çº¦å®šï¼ˆå…¬å¼€ï¼‰çš„ç½®æ¢å…³ç³» $\sigma(\cdot)$ï¼Œå³

$$
a_i = b_{\sigma(i)}
$$

åŸºæœ¬æ€è·¯æ˜¯å‘ Verifier è¦ä¸€ä¸ªéšæœºæ•° $\beta$ï¼ŒæŠŠä¸¤ä¸ªã€ŒåŸå§‹å‘é‡ã€($\vec{a}$ å’Œ $\vec{b}$)å’Œä»–ä»¬çš„ã€Œä½ç½®å‘é‡ã€($\vec{i}$ å’Œ $\sigma$ )è¿›è¡Œåˆä½“ï¼Œäº§ç”Ÿå‡ºä¸¤ä¸ªæ–°çš„å‘é‡ï¼Œè®°ä¸º $\vec{a}'$ ä¸ $\vec{b}'$

$$
a'_i = a_i + \beta \cdot i, \qquad b_i'=b_i+\beta\cdot \sigma(i)
$$

ç¬¬äºŒæ­¥æ˜¯å†å‘ Verifier è¦ä¸€ä¸ªéšæœºæ•° $\gamma$ï¼Œé€šè¿‡è¿ä¹˜çš„æ–¹æ³•æ¥ç¼–ç  $\vec{a}'$ å’Œ $\vec{b}'$ çš„ Multisetï¼Œè®°ä¸º $A$ å’Œ $B$ï¼š

$$
A = \prod(a'_i + \gamma),\qquad B = \prod(b'_i + \gamma)
$$

ç¬¬ä¸‰æ­¥æ˜¯è®© Prover è¯æ˜ $A/B=1$ï¼Œå³

$$
\prod_i\frac{(a'_i + \gamma)}{(b_i'+\gamma)} = 1
$$

è¯æ˜è¿™ä¸ªè¿ä¹˜ï¼Œéœ€è¦å¼•å…¥ä¸€ä¸ªè¾…åŠ©å‘é‡ $\vec{z}$ï¼Œè®°å½•æ¯æ¬¡ä¹˜æ³•è¿ç®—çš„ä¸­é—´ç»“æœï¼š

$$
z_0=1, \qquad z_{i+1}=z_i\cdot \frac{(a'_i+\gamma)}{(b'_i+\gamma)}
$$

ç”±äº $z_n=\prod\frac{a'_i+\gamma}{b'_i+\gamma}=1$ï¼Œè€Œä¸” $\omega^n=1$ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ $z(X)$ æ¥ç¼–ç  $\vec{z}$ï¼Œä»è€ŒæŠŠç½®æ¢è¯æ˜è½¬æ¢æˆå…³äº $z(X), a(X), b(X)$ çš„å…³ç³»è¯æ˜ã€‚

æœ€å Verifier å‘é€æŒ‘æˆ˜æ•° $\zeta$ï¼Œå¾—åˆ° $z(\zeta), z(\omega\cdot\zeta), a(\zeta), b(\zeta)$  ç„¶åæ£€æŸ¥å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚

ps:è¿™é‡Œç›®å‰åœ¨è¯æ˜å­˜åœ¨æ€§ï¼Œæ»¡è¶³ã€Œå¤šé‡é›†ã€çš„ç­‰ä»·å°±å¥½ï¼Œå³åªè¦ä¸¤ä¸ªå‘é‡åŒ…å«ç›¸åŒçš„å…ƒç´ ï¼Œå¹¶ä¸”æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ç›¸åŒï¼Œæ»¡è¶³åœ¨é›†åˆæ„ä¹‰ä¸Šæ˜¯ç›¸ç­‰çš„ï¼Œå¹¶ä¸ç”¨ç®¡å‘é‡ä¹‹é—´çš„å…ƒç´ çš„ä½ç½®æˆ–é¡ºåºã€‚

</br>

## å‘é‡çš„æ‹·è´çº¦æŸ

æ‰€è°“æ‹·è´çº¦æŸ Copy Constraintsï¼Œæ˜¯è¯´åœ¨ä¸€ä¸ªå‘é‡ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½è¯æ˜å¤šä¸ªä¸åŒä½ç½®ä¸Šçš„å‘é‡å…ƒç´ ç›¸ç­‰ã€‚æˆ‘ä»¬å…ˆä»ä¸€ä¸ªç®€å•ä¾‹å­å¼€å§‹ï¼š

$$
\vec{a}=(a_0, a_1, a_2, a_3)
$$

å‡è®¾ä¸ºäº†è®© Prover è¯æ˜ $a_0=a_2$ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ $a_0$ ä¸ $a_2$ å¯¹è°ƒä½ç½®ï¼Œè¿™æ ·å½¢æˆä¸€ä¸ªã€Œç½®æ¢å…³ç³»ã€ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ $(0,1,2,3)$ è®°å½•è¢«ç½®æ¢å‘é‡çš„å…ƒç´ ä½ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠç½®æ¢åçš„ä½ç½®å‘é‡è®°ä¸º $\sigma$ ï¼Œè€Œ $\vec{a}_\sigma$ ä¸ºè¡¨ç¤ºæŒ‰ç…§ $\sigma$ ç½®æ¢åçš„å‘é‡

$$
\sigma=(2,1,0,3), \quad \vec{a}_\sigma=(a_2,a_1,a_0, a_3)
$$

æ˜¾ç„¶ï¼Œåªè¦ Prover å¯ä»¥è¯æ˜ç½®æ¢å‰åçš„ä¸¤ä¸ªå‘é‡ç›¸ç­‰ï¼Œ $\vec{a}=\vec{a}_\sigma$ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾—å‡ºç»“è®ºï¼š $a_0=a_2$ã€‚

è¿™ä¸ªæ–¹æ³•å¯ä»¥æ¨å¹¿åˆ°è¯æ˜ä¸€ä¸ªå‘é‡ä¸­æœ‰å¤šä¸ªå…ƒç´ ç›¸ç­‰ã€‚æ¯”å¦‚è¦è¯æ˜ $\vec{a}$ ä¸­çš„å‰ä¸‰ä¸ªå…ƒç´ éƒ½ç›¸ç­‰ï¼Œæˆ‘ä»¬åªéœ€è¦æ„é€ ä¸€ä¸ªç½®æ¢ï¼Œå³é’ˆå¯¹è¿™ä¸‰ä¸ªå…ƒç´ çš„å¾ªç¯å³ç§»ï¼š

$$
\sigma=(2,0,1,3),\quad \vec{a}_\sigma=(a_2,a_0,a_1,a_3)
$$

é‚£ä¹ˆæ ¹æ® $\vec{a}=\vec{a}_\sigma$ å®¹æ˜“å¾—å‡º $a_0=a_1=a_2$ã€‚

</br>

## å¤šä¸ªå‘é‡é—´çš„æ‹·è´çº¦æŸ

å¯¹äº Plonk åè®®ï¼Œæ‹·è´çº¦æŸéœ€è¦æ¨ªè·¨ $W$ è¡¨æ ¼çš„æ‰€æœ‰åˆ—ï¼Œè€Œåè®®è¦æ±‚ Prover è¦é’ˆå¯¹æ¯ä¸€åˆ—å‘é‡è¿›è¡Œå¤šé¡¹å¼ç¼–ç ã€‚æˆ‘ä»¬éœ€è¦å¯¹ç½®æ¢è¯æ˜è¿›è¡Œæ‰©å±•ï¼Œä»è€Œæ”¯æŒæ¨ªè·¨å¤šä¸ªå‘é‡çš„å…ƒç´ ç­‰ä»·ã€‚

<img src="/ZKP-PLONK/images/polishã€Œ4ã€/æ¡ˆä¾‹ç”µè·¯.png" width="40%" />

> - [ ] ğŸå¤šä¸ªå‘é‡é—´çš„æ‹·è´çº¦æŸå°èŠ‚ä¸­æ¡ˆä¾‹ç”µè·¯å›¾ä¸å®é™…ä¾‹å­ç»™å‡ºçš„ W è¡¨æ ¼ä¸åŒ¹é…ï¼Œæ¡ˆä¾‹ç”µè·¯å›¾ä¸­#1 é—¨çš„å·¦å¼•è„šåº”è¯¥ä¸º $x_6$ ï¼Œå³å¼•è„šä¸º $x_5$ ã€‚

å›å¿†æ¯”å¦‚é’ˆå¯¹ä¸Šé¢ç”µè·¯çš„ $W$ è¡¨æ ¼ï¼š

$$
\begin{array}{c|c|c|c|}
i & w_a & w_b & w_c  \\
\hline
0 & 0 & 0 & {\color{green}out} \\
1 & {\color{red}x_6} & {\color{blue}x_5} & {\color{green}out} \\
2 & x_1 & x_2 & {\color{red}x_6} \\
3 & x_3 & x_4 & {\color{blue}x_5} \\
\end{array}
$$

çœ‹ä¸Šé¢çš„è¡¨æ ¼ï¼Œæˆ‘ä»¬è¦æ±‚ $w_{a,1}=w_{c,2}$ï¼Œ $w_{b,1}=w_{c,3}$ ä¸” $w_{c,0}=w_{c,1}$ã€‚

æ”¯æŒè·¨å‘é‡ç½®æ¢çš„ç›´æ¥æ–¹æ¡ˆæ˜¯å¼•å…¥å¤šä¸ªå¯¹åº”çš„ç½®æ¢å‘é‡ï¼Œæ¯”å¦‚ä¸Šè¡¨çš„ä¸‰åˆ—å‘é‡ç”¨ä¸‰ä¸ªç½®æ¢å‘é‡ç»Ÿä¸€è¿›è¡Œä½ç½®ç¼–ç ï¼š

$$
\begin{array}{c|c|c|c|}
i & id_{a,i} & id_{b,i} & id_{c,i}  \\
\hline
0 & 0 & 4 & {\color{green}8} \\
1 & {\color{red}1} & {\color{blue}5} & {\color{green}9} \\
2 & 2 & 6 & {\color{red}10} \\
3 & 3 & 7 & {\color{blue}11} \\
\end{array}
$$

>  $id_{x,i}$æ˜¯å…ƒç´ çš„å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºç»Ÿä¸€è¡¨ç¤ºè·¨å‘é‡çš„ç½®æ¢å…³ç³»ã€‚å®ƒçš„åˆ†é…è§„åˆ™æ˜¯æŒ‰ç…§å‘é‡é¡ºåºï¼Œä» $0$ å¼€å§‹ä¸ºæ¯ä¸ªå…ƒç´ åˆ†é…ä¸€ä¸ªå…¨å±€ç´¢å¼•ã€‚

ç½®æ¢åçš„å‘é‡ä¸º $\sigma_a, \sigma_b, \sigma_c$ï¼š

$$
\begin{array}{c|c|c|c|}
i & \sigma_{a,i} & \sigma_{b,i} & \sigma_{c,i}  \\
\hline
0 & 0 & 4 & {\color{green}9} \\
1 & {\color{red}10} & {\color{blue}11} & {\color{green}8} \\
2 & 2 & 6 & {\color{red}1} \\
3 & 3 & 7 & {\color{blue}5} \\
\end{array}
$$

Prover ç”¨ä¸€ä¸ªéšæœºæ•° $\beta$ï¼ˆVerifier æä¾›ï¼‰æ¥åˆå¹¶ $(\vec{w}_a, \vec{id_a})$ï¼Œ $(\vec{w}_b, \vec{id_b})$ï¼Œ $(\vec{w}_c, \vec{id_c})$ï¼Œè¿˜æœ‰ç½®æ¢åçš„å‘é‡ï¼š $(\vec{w}_a', \sigma_a)$ ï¼Œ $(\vec{w}_b', \sigma_b)$ï¼Œ $(\vec{w}_c', \sigma_c)$ ã€‚ç„¶åå†é€šè¿‡ä¸€ä¸ªéšæœºæ•° $\gamma$ ï¼ˆVerifier æä¾›ï¼‰å’Œè¿ä¹˜æ¥å¾—åˆ° $W$ å’Œ $W'$ çš„ Multisetsï¼Œ $\\{f_i\\}$ ä¸ $\\{g_i\\}$

$$
\begin{split}
f_i &= (w_{a,i}+\beta\cdot id_{a,i}+\gamma)(w_{b,i}+\beta\cdot id_{b,i}+\gamma)(w_{c,i}+\beta\cdot id_{c,i}+\gamma) \\
g_i &= (w'\_{a,i}+\beta\cdot \sigma\_{a,i}+\gamma)(w'\_{b,i}+\beta\cdot \sigma\_{b,i}+\gamma)(w'\_{c,i}+\beta\cdot \sigma\_{c,i}+\gamma)
\end{split}
$$

åˆå› ä¸ºæ‹·è´çº¦æŸè¦æ±‚ç½®æ¢åçš„å‘é‡ä¸åŸå§‹å‘é‡ç›¸ç­‰ï¼Œå› æ­¤ $w_a=w'_a$ï¼Œ $w_b=w_b'$ï¼Œ $w_c=w_c'$ã€‚

å¦‚æœæˆ‘ä»¬ç”¨å¤šé¡¹å¼å¯¹ $\vec{w}_a,\vec{w}_b,\vec{w}_c,\vec{id}_a,\vec{id}_b,\vec{id}_c,\sigma_a, \sigma_b, \sigma_c$ ç¼–ç ï¼Œå¾—åˆ° $w_a(X),w_b(X), w_c(X), id_a(X),id_b(X),id_c(X),\sigma_a(X),\sigma_b(X),\sigma_c(X)$ï¼Œäºæ˜¯ $f(X)$ï¼Œ $g(X)$ æ»¡è¶³ä¸‹é¢çš„çº¦æŸå…³ç³»ï¼š

$$
\begin{split}
f(X)&=\Big(w_a(X)+\beta\cdot {id_a}(X)+\gamma\Big)\Big(w_b(X)+\beta\cdot {id_b}(X)+\gamma\Big)\Big(w_c(X)+\beta\cdot {id_c}(X)+\gamma\Big)\\
g(X)&=\Big(w_a(X)+\beta\cdot {\sigma_a}(X)+\gamma\Big)\Big(w_b(X)+\beta\cdot {\sigma_b}(X)+\gamma\Big)\Big(w_c(X)+\beta\cdot {\sigma_c}(X)+\gamma\Big)\\
\end{split}
$$

å¦‚æœä¸¤ä¸ª Multiset ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯ $\\{f_i\\}=\\{g_i\\}$ï¼Œé‚£ä¹ˆä¸‹é¢çš„ç­‰å¼æˆç«‹ï¼š

$$
\prod_{X\in H}f(X) = \prod_{X\in H}g(X)
$$

ä¸Šé¢ç­‰å¼æˆç«‹æ˜¯å› ä¸ºå¦‚æœä¸¤ä¸ªå¤šé‡é›†åˆç›¸ç­‰ï¼Œé‚£ä¹ˆæ— è®ºå®ƒä»¬çš„æ’åˆ—é¡ºåºå¦‚ä½•ï¼Œæ‰€æœ‰å€¼çš„ä¹˜ç§¯éƒ½ä¼šç›¸ç­‰ã€‚ä¹˜æ³•å…·æœ‰äº¤æ¢å¾‹å’Œç»“åˆå¾‹ï¼Œå› æ­¤é¡ºåºçš„ä¸åŒä¸ä¼šå½±å“ä¹˜ç§¯çš„ç»“æœã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœ $\\{f_i} = {2,3,2\\}$ å’Œ ${g_i} = {3,2,2\\}$ï¼Œé‚£ä¹ˆ $\prod{\\f_i}=2 \times 3 \times 2 =12\\$ï¼› $\prod{\\{g_i}}=3 \times 2 \times 2 =12\\$ï¼Œå› æ­¤ä¹˜ç§¯ç›¸ç­‰ã€‚


ä¸Šé¢çš„ç­‰å¼ç¨åŠ å˜å½¢ï¼Œå¯å¾— 

$$
\prod_{X\in H}\frac{f(X)}{g(X)} = 1
$$

æˆ‘ä»¬è¿›ä¸€æ­¥æ„é€ ä¸€ä¸ªè¾…åŠ©çš„**ç´¯åŠ å™¨**å‘é‡ $\vec{z}$ï¼Œè¡¨ç¤ºè¿ä¹˜è®¡ç®—çš„ä¸€ç³»åˆ—ä¸­é—´è¿‡ç¨‹

$$
z_0 = 1, \qquad z_{i+1}=z_i\cdot \frac{f_i}{g_i}\\
$$

å…¶ä¸­ $z_0$ çš„åˆå§‹å€¼ä¸º $1$ï¼ŒProver æŒ‰ç…§ä¸‹è¡¨è®¡ç®—å‡º $\vec{z}$ï¼š

$$
\begin{array}{|c|c|c|}
i & H_i & z_i\\
\hline
0 & \omega^0=1 & 1\\
1 & \omega^1 & 1\cdot \frac{f_0}{g_0}\\
2 & \omega^2 & \frac{f_0}{g_0}\cdot \frac{f_1}{g_1}\\
3 & \omega^3 & \frac{f_0f_1}{g_0g_1}\cdot \frac{f_2}{g_2}\\
\vdots & & \vdots\\
n-1 & \omega^{n-1} & \frac{f_0f_1\cdots f_{n-3}}{g_0g_1\cdots g_{n-3}}\cdot \frac{f_{n-2}}{g_{n-2}} \\
n & \omega^{n}=1 & \frac{f_0f_1\cdots f_{n-1}}{g_0g_1\cdots g_{n-1}}  = 1 
\end{array}
$$

> ä¸Šè¡¨çš„ $H_i$ è¡¨ç¤ºçš„æ˜¯æŸä¸ªæœ‰é™åŸŸ $\mathbb{F}$ ä¸Šçš„ç‚¹é›†ï¼Œå®ƒä»¬æ˜¯å¤šé¡¹å¼ $f(X)$ å’Œ $g(X)$ çš„è¯„ä¼°ç‚¹ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œæ˜¯æœ‰é™åŸŸä¸Šç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆDFTï¼‰ä¸­ä½¿ç”¨çš„é‡‡æ ·ç‚¹ã€‚è¿™äº›ç‚¹é€šå¸¸æ˜¯æŸä¸ª $n$ æ¬¡å•ä½æ ¹çš„å¹‚æ¬¡ï¼Œä¹Ÿå°±æ˜¯ $\omega^i$ çš„å€¼ï¼Œå…¶ä¸­ $\omega$ æ˜¯ä¸€ä¸ª $n$ æ¬¡å•ä½æ ¹ã€‚ $H_i=\omega^i$

> ğŸ "è¯„ä¼°ç‚¹" å»ºè®®ç¿»è¯‘æˆ â€œæ±‚å€¼ç‚¹â€ æ›´å¥½ï¼Œè‹±æ–‡ä¸­è¡¨è¿°ä¸º evaluateï¼Œå…¶å®æ˜¯å‡½æ•°åœ¨è¿™äº›ç‚¹æ±‚å€¼çš„æ„æ€ã€‚

> åœ¨è¡¨æ ¼ä¸­ï¼Œ $z_i$ æ˜¯é€šè¿‡ $f(X)$ å’Œ $g(X)$ åœ¨ç‚¹ $H_i=\omega^i$ ä¸Šçš„å€¼è®¡ç®—å¾—åˆ°çš„é€’å½’ç§¯ã€‚ä¾‹å¦‚ï¼š
> $z_1 = z_0 \times \frac{f_0}{g_0} = 1 \times \frac{f_0}{g_0}$
> $z_2 = z_1 \times \frac{f_1}{g_1} = \frac{f_0}{g_0} \times \frac{f_1}{g_1}$
> ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ° $z_n = \frac{{f_0}{f_1} \ldots {f_{n-1}}}{{g_0}{g_1} \dots {g_{n-1}}}$
> æœ€ç»ˆï¼Œè¡¨æ ¼ä¸­çš„ $z_n =1$ æ˜¯é€šè¿‡ $H$ ä¸Šçš„æ‰€æœ‰ç‚¹çš„ç´¯ç§¯å…³ç³»éªŒè¯çš„ã€‚
 
å¦‚æœ $\vec{f}$ èƒ½ä¸ $\vec{g}$ è¿ä¹˜ç­‰ä»·çš„è¯ï¼Œé‚£ä¹ˆæœ€åä¸€è¡Œ $z_{n}$ æ­£å¥½ç­‰äº $1$ï¼Œå³

$$
z_{n} = z_0 = 1
$$

è€Œåˆå› ä¸º $\omega^{n} = 1$ã€‚è¿™æ°å¥½ä½¿æˆ‘ä»¬å¯ä»¥æŠŠ $(z_0, z_1, z_2, \ldots, z_{n-1})$ å®Œæ•´åœ°ç¼–ç åœ¨ä¹˜æ³•å­ç¾¤ $H$ ä¸Šã€‚å› æ­¤å¦‚æœå®ƒæ»¡è¶³ä¸‹é¢ä¸¤ä¸ªå¤šé¡¹å¼çº¦æŸï¼Œæˆ‘ä»¬å°±èƒ½æ ¹æ®æ•°å­¦å½’çº³æ³•å¾—å‡º $z_{n} = 1$ï¼Œè¿™æ˜¯æˆ‘ä»¬æœ€ç»ˆæƒ³è¦çš„ã€Œæ‹·è´çº¦æŸã€ï¼š

$$
z(\omega^0) = 1
$$

$$
z(\omega\cdot X)g(X) = z(X)f(X) 
$$

</br>

## ç½®æ¢å…³ç³» $\sigma$ 

åœ¨æ„é€ æ‹·è´çº¦æŸå‰ï¼Œç½®æ¢å…³ç³» $\sigma$ éœ€è¦æå‰å…¬å¼€å…±è¯†ã€‚è¡¨æ ¼ $W$ å«æœ‰æ‰€æœ‰ç®—æœ¯é—¨çš„è¾“å…¥è¾“å‡ºï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æè¿°é—¨å’Œé—¨ä¹‹é—´æ˜¯å¦é€šè¿‡å¼•çº¿ç›¸è¿ï¼Œè€Œç½®æ¢å…³ç³» $\sigma$ å®é™…ä¸Šæ­£æ˜¯è¡¥å……æè¿°äº†å“ªäº›ç®—æœ¯é—¨ä¹‹é—´çš„è¿æ¥å…³ç³»ã€‚

å› æ­¤ï¼Œå¯¹äºä¸€ä¸ªå¤„äºã€Œç©ºç™½æ€ã€çš„ç”µè·¯ï¼Œé€šè¿‡ $(Q, \sigma)$ ä¸¤ä¸ªè¡¨æ ¼æè¿°ï¼Œå…¶ä¸­ $Q$ ç”±é€‰æ‹©å­å‘é‡æ„æˆï¼Œè€Œ $\sigma$ åˆ™ç”±ã€Œç½®æ¢å‘é‡ã€æ„æˆã€‚ 

<img src="/ZKP-PLONK/images/polishã€Œ4ã€/æ¡ˆä¾‹ç”µè·¯.png" width="40%" />

> - [ ] ğŸ æ›´æ–°æ¡ˆä¾‹ç”µè·¯å›¾

ä¸‹é¢æ˜¯ $Q$ è¡¨æ ¼

$$
\begin{array}{c|c|c|c|}
i & q_L & q_R & q_M & q_C & q_O \\
\hline
0 & 0 & 0 & 0 & 99 & 1 \\
1 & 0 & 0 & 1 & 0 & 1 \\
2 & 1 & 1 & 0 & 0 & 1 \\
3 & 0 & 0 & 1 & 0 & 1 \\
\end{array}
$$

ä¸‹é¢æ˜¯ $S$ è¡¨æ ¼ï¼Œæè¿°äº†å“ªäº›ä½ç½®åšäº†ç½®æ¢

$$
\begin{array}{c|c|c|c|}
i & \sigma_{a,i} & \sigma_{b,i} & \sigma_{c,i}  \\
\hline
0 & 0 & 4 & [9] \\
1 & \boxed{10} & \underline{11} & [8] \\
2 & 2 & 6 & \boxed{1} \\
3 & 3 & 7 & \underline{5} \\
\end{array}
$$

</br>

## å¤„ç† Public Inputs

å‡å¦‚åœ¨ä¸Šé¢ç»™å‡ºçš„å°ç”µè·¯ä¸­ï¼Œè¦è¯æ˜å­˜åœ¨ä¸€ä¸ª Assignmentï¼Œä½¿å¾— out çš„è¾“å…¥ä¸ºä¸€ä¸ªç‰¹å®šçš„å…¬å¼€å€¼ï¼Œæ¯”å¦‚ $out=99$ã€‚æœ€ç®€å•çš„åŠæ³•æ˜¯ä½¿ç”¨ $Q$ è¡¨ä¸­çš„ $q_C$ åˆ—ï¼Œå¹¶å¢åŠ ä¸€è¡Œçº¦æŸï¼Œä½¿å¾— $q_L=q_R=q_M=0$ï¼Œå› æ­¤æ»¡è¶³ä¸‹é¢ç­‰å¼

$$
q_C(X) - q_O(X)w_c(X)  = 0
$$

ä½†è¿™ä¸ªæ–¹æ¡ˆçš„é—®é¢˜æ˜¯ï¼šè¿™äº›å…¬å¼€å€¼ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥è¾“å‡ºå€¼è¢«å›ºå®šæˆäº†å¸¸æ•°ï¼Œå¦‚æœå…¬å¼€å€¼å˜åŒ–ï¼Œé‚£ä¹ˆ $q_C(X)$ å¤šé¡¹å¼éœ€è¦é‡æ–°è®¡ç®—ã€‚å¦‚æœæ•´ä½“ä¸Š $W$ è¡¨æ ¼çš„è¡Œæ•°æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆè¿™ä¸ªé‡æ–°è®¡ç®—è¿‡ç¨‹ä¼šå¸¦æ¥å¾ˆå¤šçš„æ€§èƒ½æŸå¤±ã€‚

èƒ½å¦åœ¨è¡¨æ ¼ä¸­å¼•å…¥å‚æ•°ï¼Œä»¥åŒºåˆ†ç”µè·¯ä¸­çš„å¸¸æ•°åˆ—ï¼Ÿå¹¶ä¸”è¦æ±‚å‚æ•°çš„å˜åŒ–å¹¶ä¸å½±å“å…¶å®ƒç”µè·¯çš„éƒ¨åˆ†ï¼Ÿè¿™å°±éœ€è¦å†å¼•å…¥ä¸€ä¸ªæ–°çš„åˆ—ï¼Œä¸“é—¨å­˜æ”¾å…¬å¼€å‚æ•°ï¼Œè®°ä¸º $\phi$ï¼Œå› æ­¤ï¼Œç®—æœ¯çº¦æŸä¼šå˜ä¸ºï¼š

$$
q_L(X)w_a(X)+q_R(X)w_b(X)+ q_M(X)w_a(X)w_b(X) - q_O(X)w_c(X)+q_C(X)+\phi(X) = 0
$$

æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä¿®æ”¹æ‹·è´çº¦æŸçš„æ–¹å¼å¼•å…¥å…¬å¼€å‚æ•°ã€‚

>[!TODO]

</br>

## ä½ç½®å‘é‡çš„ä¼˜åŒ–

æˆ‘ä»¬ä¸Šé¢åœ¨æ„é€ ä¸‰ä¸ª $\sigma$ å‘é‡æ—¶ï¼Œç›´æ¥é‡‡ç”¨çš„è‡ªç„¶æ•° $(0,1,2,\cdots)$ï¼Œè¿™æ ·åœ¨åè®®å¼€å§‹å‰ï¼ŒVerifier éœ€è¦æ„é€  3 ä¸ªå¤šé¡¹å¼ ${id_a}(X),{id_b}(X),{id_c}(X)$ï¼Œå¹¶ä¸”åœ¨åè®®æœ€åä¸€æ­¥æŸ¥è¯¢ Oracleï¼Œè·å¾—ä¸‰ä¸ªå¤šé¡¹å¼åœ¨æŒ‘æˆ˜ç‚¹ $X=\zeta$ å¤„çš„å–å€¼  $({id_a}(\zeta),{id_b}(\zeta),{id_c}(\zeta))$ ã€‚

> å†è¡¥å……ä¸€äº›å…³äºç½®æ¢å‘é‡ $\sigma$ å’Œæ ‡è®°å€¼çš„èƒŒæ™¯çŸ¥è¯†

> åœ¨é›¶çŸ¥è¯†è¯æ˜ç³»ç»Ÿï¼ˆå¦‚ PLONKï¼‰ä¸­ï¼Œç½®æ¢å¤šé¡¹å¼ 
$\sigma(X)$ çš„ä½œç”¨æ˜¯è¡¨ç¤ºä¸€ç»„å˜é‡ï¼ˆæˆ–çº¦æŸåˆ—ï¼‰ä¹‹é—´çš„ç½®æ¢å…³ç³»ã€‚å‡è®¾æˆ‘ä»¬æœ‰å¤šä¸ªå‘é‡ï¼Œä¾‹å¦‚ $w_i,w_b,w_c$ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºç”µè·¯çš„å·¦å³è¾“å…¥å’Œè¾“å‡ºåˆ—ï¼Œæˆ‘ä»¬éœ€è¦éªŒè¯å®ƒä»¬ä¹‹é—´çš„æŸç§å…³ç³»ï¼Œä¾‹å¦‚ï¼š
> 

æ€è€ƒä¸€ä¸‹ï¼Œ $\sigma$ å‘é‡åªéœ€è¦ç”¨ä¸€äº›äº’ä¸ç›¸ç­‰çš„å€¼æ¥æ ‡è®°ç½®æ¢å³å¯ï¼Œä¸ä¸€å®šè¦é‡‡ç”¨é€’å¢çš„è‡ªç„¶æ•°ã€‚å¦‚æœæˆ‘ä»¬é‡‡ç”¨ $H=(1,\omega,\omega^2,\cdots)$ çš„è¯ï¼Œé‚£ä¹ˆå¤šé¡¹å¼ ${id_a}(X)$ ä¼šè¢«å¤§å¤§ç®€åŒ–ï¼š

$$
\begin{split}
\vec{id}_a &= (1,\omega,\omega^2,\omega^3)\\
\vec{id}_b &= (k_1,k_1\omega,k_1\omega^2,k_1\omega^3)\\
\vec{id}_c &= (k_2,k_2\omega,k_2\omega^2,k_2\omega^3)\\
\end{split}
$$

å…¶ä¸­ $k_i$ ä¸ºäº’ç›¸ä¸ç­‰çš„äºŒæ¬¡éå‰©ä½™ã€‚

> ã€Œäº’ç›¸ä¸ç­‰çš„äºŒæ¬¡éå‰©ä½™ã€çš„æ ¸å¿ƒæ˜¯å¼ºè°ƒ**äºŒæ¬¡éå‰©ä½™çš„é›†åˆä¸­æ‰€æœ‰å…ƒç´ éƒ½äº’ä¸ç›¸ç­‰**ï¼Œç¡®ä¿é›†åˆçš„å”¯ä¸€æ€§å’Œæ­£ç¡®æ€§ã€‚

> ğŸ "ã€Œäº’ç›¸ä¸ç­‰çš„äºŒæ¬¡éå‰©ä½™ã€çš„æ ¸å¿ƒæ˜¯å¼ºè°ƒ**äºŒæ¬¡éå‰©ä½™çš„é›†åˆä¸­æ‰€æœ‰å…ƒç´ éƒ½äº’ä¸ç›¸ç­‰**ï¼Œç¡®ä¿é›†åˆçš„å”¯ä¸€æ€§å’Œæ­£ç¡®æ€§ã€‚" è¿™å¥è¯ä¸ªäººè®¤ä¸ºè¡¨è¿°æ˜¯æœ‰é—®é¢˜çš„ï¼ŒäºŒæ¬¡éå‰©ä½™é›†åˆæœ¬èº«å°±æ˜¯ä¸€ä¸ªé›†åˆï¼Œ"$k_i$ ä¸ºäº’ç›¸ä¸ç­‰çš„äºŒæ¬¡éå‰©ä½™" çš„æ„æ€æ˜¯ï¼Œé€‰å–çš„ $k_1$ ä¸ $k_2$ éƒ½æ¥è‡ªäºŒæ¬¡éå‰©ä½™é›†åˆï¼ŒåŒæ—¶æ»¡è¶³ $k_1 \neq k_2$ ï¼Œå¼ºè°ƒ $k_1 \neq k_2$ ã€‚

> ğŸ å…¶å®åŸæ–‡ â€œ$k_i$ ä¸ºäº’ç›¸ä¸ç­‰çš„äºŒæ¬¡éå‰©ä½™â€ è¿™é‡Œè¡¨è¿°ä¹Ÿä¸å¤Ÿå‡†ç¡®ã€‚ è§ [Plonk Course - Lecture 4 - ç®—æœ¯çº¦æŸä¸æ‹·è´çº¦æŸ](https://github.com/wenjin1997/awesome-zkp-learning/blob/main/courses/Plonk-GuoYu/lecture04/notes-plonk-lecture4-constraints.ipynb) ä¸­ $k_1$ å’Œ $k_2$ çš„é€‰å–ã€‚è¿™é‡Œæˆ‘åç»­è€ƒè™‘æ›´æ–°ä¸Šå»ã€‚

> çŸ¥è¯†ç‚¹è¡¥å……ï¼š
> åœ¨æ¨¡è¿ç®—ï¼ˆæˆ–æœ‰é™åŸŸï¼‰ä¸­ï¼ŒäºŒæ¬¡å‰©ä½™ï¼ˆquadratic residueï¼‰ å’Œ äºŒæ¬¡éå‰©ä½™ï¼ˆquadratic non-residueï¼‰ æ˜¯å…³äºæ•´æ•°æ˜¯å¦æ˜¯æŸä¸ªå¹³æ–¹æ•°æ¨¡ $p$ çš„ç»“æœã€‚

> äºŒæ¬¡å‰©ä½™ï¼šç»™å®šä¸€ä¸ªå¥‡ç´ æ•° $p$ï¼Œä¸€ä¸ªæ•´æ•° $a$ è¢«ç§°ä¸ºæ¨¡ $p$ çš„äºŒæ¬¡å‰©ä½™ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæ•´æ•° $x$ ä½¿å¾—ï¼š
> $$
> x^2 \equiv a \pmod{p} 
> $$
> ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸”ä»…å½“ $a$ æ˜¯æŸä¸ªæ•°çš„å¹³æ–¹æ¨¡ $p$ï¼Œ $a$ æ˜¯æ¨¡ $p$ çš„äºŒæ¬¡å‰©ä½™ã€‚

> äºŒæ¬¡éå‰©ä½™ï¼šå¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ $x$ï¼Œä½¿å¾— $ x^2 \equiv a \pmod{p} $ï¼Œåˆ™ $a$ æ˜¯æ¨¡ $p$ çš„äºŒæ¬¡éå‰©ä½™ã€‚

$$
{id_a}(X) = X, \quad {id_b}(X) = k_1\cdot X, \quad  {id_a}(X) = k_2\cdot X
$$

è¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸‰ä¸ªå¤šé¡¹å¼è¢«å¤§å¤§ç®€åŒ–ï¼Œå®ƒä»¬åœ¨ $X=\zeta$ å¤„çš„è®¡ç®—è½»è€Œæ˜“ä¸¾ï¼Œå¯ä»¥ç›´æ¥ç”± Verifier å®Œæˆã€‚

è¿™ä¸ªå°ä¼˜åŒ–æ‰‹æ®µæœ€æ—©ç”± Vitalik æå‡ºã€‚é‡‡ç”¨ $k_1$ å’Œ $k_2$ æ˜¯ä¸ºäº†äº§ç”Ÿ $(1,\omega,\omega^2,\omega^3)$ çš„é™ªé›†ï¼ˆCosetï¼‰ï¼Œå¹¶ä¿è¯ Coset ä¹‹é—´æ²¡æœ‰ä»»ä½•äº¤é›†ã€‚æˆ‘ä»¬å‰é¢æåˆ° $H=(1,\omega,\omega^2,\omega^3)$  æ˜¯ $\mathbb{F}$ çš„ä¹˜æ³•å­ç¾¤ã€‚ $H$ çš„é™ªé›†æ˜¯ $H_1$ å’Œ $H_2$ï¼Œå¦‚æœ $H_1=k_1 \cdot H$ å’Œ $H_2=k_2 \cdot H$ å­˜åœ¨äº¤é›†ï¼Œé‚£ä¹ˆ $H_1=H_2$ã€‚

è¿™ä¸ªè®ºæ–­å¯ä»¥ç®€å•è¯æ˜å¦‚ä¸‹ï¼š

å¦‚æœå®ƒä»¬å­˜åœ¨äº¤é›†ï¼Œé‚£ä¹ˆ $k_1\omega^i=k_2\omega^j$ï¼Œäºæ˜¯ $k_1=k_2\cdot\omega^{j-i}$ï¼Œåˆå› ä¸º $\omega^{j-i}\in H$ï¼Œé‚£ä¹ˆ $k_1\in H_2$ï¼Œé‚£ä¹ˆ $\forall i\in[n], k_1\cdot \omega^i\in H_2$ï¼Œé‚£ä¹ˆ $H_1\subset H_2$ï¼ŒåŒç†å¯å¾— $H_2\subset H_1$ï¼Œäºæ˜¯ $H_1=H_2$ã€‚


> è§£é‡Šä¸Šé¢è¿™æ®µè¯ï¼š

> ç®€å•æ¥è¯´ï¼Œç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ä¸ªé›†åˆï¼Œä¸€ä¸ªæ˜¯ $H_1 = k_1 \cdot H$ï¼Œå¦ä¸€ä¸ªæ˜¯ $H_2 = k_2 \cdot H$ã€‚å‡è®¾ $H_1$ å’Œ $H_2$ æœ‰ä¸€ä¸ªå…±åŒçš„å…ƒç´ ï¼Œæ¯”å¦‚ $k_1 \cdot \omega_i = k_2 \cdot \omega_j$ã€‚

> æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªç­‰å¼å˜æ¢ä¸€ä¸‹ï¼Œå˜æˆ $k_1 = k_2 \cdot \omega^{j-i}$ã€‚å› ä¸º $\omega^{j-i}$ æ˜¯ $H$ ä¸­çš„å…ƒç´ ï¼Œè€Œ $H_2 = k_2 \cdot H$ï¼Œæ ¹æ® $k_1 = k_2 \cdot \omega^{j-i}$ï¼Œ $H_2$ ç”± $k_2 \cdot H$ ç”Ÿæˆï¼Œå¯ä»¥å¾—å‡º $k_1$ æ˜¯ $H_2$ çš„ä¸€ä¸ªå…ƒç´ ï¼Œå³ $k_1\in H_2$ã€‚

> $\forall i\in[n], k_1\cdot \omega^i\in H_2$ è¡¨ç¤ºçš„æ˜¯ï¼šå¯¹äºæ¯ä¸ªå±äºé›†åˆ $n$ (è¡¨ç¤ºä» 0 åˆ° $n-1$ çš„æ•´æ•°é›†åˆ) çš„ $i$ï¼Œéƒ½æœ‰ $k_1 \cdot \omega_i$ å±äºé›†åˆ $H_2$ï¼Œå› æ­¤å¾—åˆ°äº† $H_1\subset H_2$ï¼Œè¿™æ˜¯å› ä¸ºï¼š
> é¦–å…ˆï¼Œ $H_1=\\{k_1\cdot \omega_0, k_1\cdot \omega_1,\cdots, k_1\cdot \omega_{n-1}\\}$ï¼Œé›†åˆ $H_1$ é€šè¿‡ç”¨ $k_1$ ä¹˜ä»¥ $\omega$ çš„å¹‚å¾—åˆ°æ‰€æœ‰çš„å…ƒç´ ï¼›
> æ­¤å¤–ï¼Œ $\forall i\in[n], k_1\cdot \omega^i\in H_2$ è¡¨æ˜ $H_1$ çš„æ‰€æœ‰å…ƒç´ éƒ½åœ¨ $H_2$ ä¸­ï¼Œ
> æ‰€ä»¥å¦‚æœ $H_1$ ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å±äº $H_2$ï¼Œé‚£ä¹ˆ $H_1$ è‡ªç„¶å°±æ˜¯ $H_2$ çš„å­é›†ã€‚

å¦‚æœ $\sigma$ çš„åˆ—æ•°æ›´å¤šï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦é€‰æ‹©å¤šä¸ª $k_1, k_2,k_3,\ldots$ ä¸”  $(k_i/k_j)^n \neq1$ æ¥äº§ç”Ÿä¸ç›¸äº¤çš„ Cosetã€‚ä¸€ç§æœ€ç›´æ¥çš„åŠæ³•æ˜¯é‡‡ç”¨ $k_1,k_2,k_3,\ldots=g^1,g^2,g^3,\ldots$ï¼Œå…¶ä¸­ $g$ ä¸ºä¹˜æ³•å­ç¾¤ $T$ çš„ç”Ÿæˆå…ƒï¼Œ $|T|*2^\lambda=p-1$ã€‚

</br>

## åè®®æ¡†æ¶

> 1. `[]` è¡¨ç¤ºçš„æ˜¯ æ‰¿è¯ºï¼ˆcommitmentï¼‰çš„å½¢å¼ï¼ŒVerifier åªçŸ¥é“ä¸€ä¸ªåŠ å¯†æˆ–å“ˆå¸Œåçš„å€¼ $[z(X)]$ï¼Œè€Œä¸çŸ¥é“ $z(X)$ çš„å…·ä½“å†…å®¹(ä¸‹ä¸€ç« èŠ‚å°†ä¸»è¦è®²)ã€‚
> 2. $\phi(X)$ è¡¨ç¤ºå…¬å¼€è¾“å…¥å’Œè¾“å‡ºï¼Œè¿™äº›å€¼æ˜¯ Verifier å’Œ Prover éƒ½çŸ¥é“çš„ï¼Œå¹¶ä¸”åœ¨éªŒè¯è¿‡ç¨‹ä¸­ï¼ŒVerifier ä¼šä½¿ç”¨è¿™äº›å…¬å¼€å€¼æ¥ç¡®ä¿ Prover çš„è¯æ˜æ˜¯æ­£ç¡®çš„ã€‚

<img src="/ZKP-PLONK/images/ã€Œ4ã€ç½®æ¢è¯æ˜å’Œæ‹·è´çº¦æŸ/åè®®æ¡†æ¶.png" width="100%" />


é¢„å¤„ç†ï¼šProver å’Œ Verifier æ„é€  $[q_L(X)]$ï¼Œ $[q_R(X)]$ï¼Œ $[q_O(X)]$ï¼Œ $[q_M(X)]$ï¼Œ $[q_C(X)]$ï¼Œ $[{\sigma_a}(X)]$ï¼Œ $[{\sigma_b}(X)]$ï¼Œ $[{\sigma_c}(X)]$

ç¬¬ä¸€æ­¥ï¼šProver é’ˆå¯¹ $W$ è¡¨æ ¼çš„æ¯ä¸€åˆ—ï¼Œæ„é€  $[w_a(X)]$ï¼Œ $[w_b(X)]$ï¼Œ $[w_c(X)]$ï¼Œ $\phi(X)$ ä½¿å¾—

$$
q_L(X)w_a(X)+q_R(X)w_b(X)+ q_M(X)w_a(X)w_b(X) - q_O(X)w_c(X)+q_C(X) + \phi(X) = 0
$$

ç¬¬äºŒæ­¥ï¼š Verifier å‘é€éšæœºæ•° $\beta$ ä¸ $\gamma$ï¼›

ç¬¬ä¸‰æ­¥ï¼šProver æ„é€  $[z(X)]$ï¼Œä½¿å¾—

$$
\begin{split}
L_0(X)(z(X)-1) &= 0 \\
z(\omega\cdot X)g(X) -  z(X)f(X) &=0
\end{split}
$$

ç¬¬å››æ­¥ï¼šVerifier å‘é€éšæœºæŒ‘æˆ˜æ•° $\alpha$ï¼›

ç¬¬äº”æ­¥ï¼šProver è®¡ç®— $h(X)$ï¼Œå¹¶æ„é€ å•†å¤šé¡¹å¼ $[t(X)]$

$$
\begin{split}
h(X) = &\ q_L(X)w_a(X)+q_R(X)w_b(X)+ q_M(X)w_a(X)w_b(X) - q_O(X)w_c(X)+q_C(X) + \phi(X) \\
 & + \alpha(z(\omega X)\cdot g(X)-z(X)\cdot f(X)) + \alpha^2(L_0(X)\cdot(z(X)-1))
\end{split}
$$

å…¶ä¸­

$$
\begin{split}
f(X)&=\Big(w_a(X)+\beta\cdot {id_a}(X)+\gamma\Big)\Big(w_b(X)+\beta\cdot {id_b}(X)+\gamma\Big)\Big(w_c(X)+\beta\cdot {id_c}(X)+\gamma\Big)\\
g(X)&=\Big(w_a(X)+\beta\cdot {\sigma_a}(X)+\gamma\Big)\Big(w_b(X)+\beta\cdot {\sigma_b}(X)+\gamma\Big)\Big(w_c(X)+\beta\cdot {\sigma_c}(X)+\gamma\Big)\\
\end{split}
$$

å…¶ä¸­å•†å¤šé¡¹å¼ $t(X)=\frac{h(X)}{z_H(X)}$ ï¼›

ç¬¬å…­æ­¥ï¼šVerifier å‘é€éšæœºæŒ‘æˆ˜æ•° $\zeta$ï¼ŒæŸ¥è¯¢ä¸Šè¿°çš„æ‰€æœ‰ Oracleï¼Œå¾—åˆ°
- $\bar{w}_a=w_a(\zeta)$ï¼Œ $\bar{w}_b=w_b(\zeta)$ï¼Œ $\bar{w}_c=w_c(\zeta)$
- $\bar{q}_L=q_L(\zeta)$ï¼Œ $\bar{q}_R=q_R(\zeta)$ï¼Œ $\bar{q}_M=q_M(\zeta)$ï¼Œ  $\bar{q}_O=q_O(\zeta)$ï¼Œ $\bar{q}_C=q_C(\zeta)$
- $\bar{\sigma}_a=\sigma_a(\zeta)$ï¼Œ $\bar{\sigma}_b=\sigma_b(\zeta)$ï¼Œ $\bar{\sigma}_c=\sigma_c(\zeta)$
- $\bar{z}\_{(\omega\cdot\zeta)}=z(\omega\cdot\zeta)$ï¼Œ $\bar{z}_{(\zeta)}=z(\zeta)$
- $\bar{t}=t(\zeta)$

Verifier è¿˜è¦è‡ªè¡Œè®¡ç®—
- $\bar{f}_{(\zeta)} =(\bar{w}_a+\beta\cdot \zeta + \gamma) (\bar{w}_b+\beta\cdot k_1\cdot \zeta +\gamma)(\bar{w}_c+\beta\cdot k_2 \cdot \zeta +\gamma)$
- $\bar{g}_{(\zeta)}=(\bar{w}_a+\beta\cdot \bar{\sigma}_a + \gamma) (\bar{w}_b+\beta\cdot\bar{\sigma}_b+\gamma)(\bar{w}_c+\beta\cdot\bar{\sigma}_c+\gamma)$
- $L_0(\zeta)$
- $z_H(\zeta)$
- $\phi(\zeta)$

éªŒè¯æ­¥ï¼š

$$
\begin{split}
& \bar{q}_L\bar{w}_a+\bar{q}_R\bar{w}_b+ \bar{q}_M\bar{w}_a\bar{w}_b - \bar{q}_O\bar{w}_c+\bar{q}_C + \phi(\zeta)  \\
& \qquad \qquad + \alpha(\bar{z}\_{(\omega\cdot\zeta)}\cdot \bar{g}\_{(\zeta)}-\bar{z}\_{(\zeta)}\cdot \bar{f}\_{(\zeta)})+ \alpha^2(L_0(\zeta)\cdot(\bar{z}\_{(\zeta)}-1))\overset{?}{=}\bar{t}\cdot z_H(\zeta)
\end{split}
$$


